TYPE=VIEW
query=select `aa`.`nome_terceiro` AS `nome_terceiro`,`aa`.`cnpj_terceiro` AS `cnpj_terceiro`,`aa`.`numero_nf` AS `numero_nf`,`aa`.`cnpj_proprio` AS `cnpj_proprio`,`aa`.`valor` AS `valor`,`aa`.`natureza` AS `natureza`,`aa`.`data_emissao` AS `emissao`,sum(`bb`.`quantidade`) AS `quantidade3`,(case when isnull(round((`aa`.`quantidade` - `bb`.`quantidade`),0)) then `aa`.`quantidade` else round((`aa`.`quantidade` - `bb`.`quantidade`),0) end) AS `quantidade` from (`controladoria`.`cad_notas_fiscais` `aa` left join `controladoria`.`cad_memorandos_detalhe` `bb` on(((`bb`.`inscricao_federal` = `aa`.`cnpj_proprio`) and (`bb`.`numero_nf` = `aa`.`numero_nf`)))) where ((round((`aa`.`quantidade` - `bb`.`quantidade`),0) <> 0) or (isnull(`bb`.`quantidade`) and (`aa`.`quantidade` <> 0) and (left(`aa`.`natureza`,5) = \'VENDA\'))) group by `aa`.`numero_nf`,`aa`.`cnpj_proprio`,`aa`.`nome_terceiro`,`aa`.`cnpj_terceiro`,`aa`.`valor`,`aa`.`natureza`,`aa`.`data_emissao`,(case when isnull(round((`aa`.`quantidade` - `bb`.`quantidade`),0)) then `aa`.`quantidade` else round((`aa`.`quantidade` - `bb`.`quantidade`),0) end)
md5=70526447cf63c14bcbdace565caabe08
updatable=0
algorithm=0
definer_user=root
definer_host=localhost
suid=1
with_check_option=0
timestamp=2016-09-24 03:18:14
create-version=1
source=SELECT \n        `aa`.`nome_terceiro` AS `nome_terceiro`,\n        `aa`.`cnpj_terceiro` AS `cnpj_terceiro`,\n        `aa`.`numero_nf` AS `numero_nf`,\n        `aa`.`cnpj_proprio` AS `cnpj_proprio`,\n        `aa`.`valor` AS `valor`,\n        `aa`.`natureza` AS `natureza`,\n        `aa`.`data_emissao` AS `emissao`,\n        SUM(`bb`.`quantidade`) AS `quantidade3`,\n        (CASE\n            WHEN\n                ISNULL(ROUND((`aa`.`quantidade` - `bb`.`quantidade`),\n                                0))\n            THEN\n                `aa`.`quantidade`\n            ELSE ROUND((`aa`.`quantidade` - `bb`.`quantidade`),\n                    0)\n        END) AS `quantidade`\n    FROM\n        (`controladoria`.`cad_notas_fiscais` `aa`\n        LEFT JOIN `controladoria`.`cad_memorandos_detalhe` `bb` ON (((`bb`.`inscricao_federal` = `aa`.`cnpj_proprio`)\n            AND (`bb`.`numero_nf` = `aa`.`numero_nf`))))\n    WHERE\n        ((ROUND((`aa`.`quantidade` - `bb`.`quantidade`),\n                0) <> 0)\n            OR (ISNULL(`bb`.`quantidade`)\n            AND (`aa`.`quantidade` <> 0)\n            AND (LEFT(`aa`.`natureza`, 5) = \'VENDA\')))\n    GROUP BY `aa`.`numero_nf` , `aa`.`cnpj_proprio` , `aa`.`nome_terceiro` , `aa`.`cnpj_terceiro` , `aa`.`valor` , `aa`.`natureza` , `aa`.`data_emissao`, 9
client_cs_name=utf8
connection_cl_name=utf8_general_ci
view_body_utf8=select `aa`.`nome_terceiro` AS `nome_terceiro`,`aa`.`cnpj_terceiro` AS `cnpj_terceiro`,`aa`.`numero_nf` AS `numero_nf`,`aa`.`cnpj_proprio` AS `cnpj_proprio`,`aa`.`valor` AS `valor`,`aa`.`natureza` AS `natureza`,`aa`.`data_emissao` AS `emissao`,sum(`bb`.`quantidade`) AS `quantidade3`,(case when isnull(round((`aa`.`quantidade` - `bb`.`quantidade`),0)) then `aa`.`quantidade` else round((`aa`.`quantidade` - `bb`.`quantidade`),0) end) AS `quantidade` from (`controladoria`.`cad_notas_fiscais` `aa` left join `controladoria`.`cad_memorandos_detalhe` `bb` on(((`bb`.`inscricao_federal` = `aa`.`cnpj_proprio`) and (`bb`.`numero_nf` = `aa`.`numero_nf`)))) where ((round((`aa`.`quantidade` - `bb`.`quantidade`),0) <> 0) or (isnull(`bb`.`quantidade`) and (`aa`.`quantidade` <> 0) and (left(`aa`.`natureza`,5) = \'VENDA\'))) group by `aa`.`numero_nf`,`aa`.`cnpj_proprio`,`aa`.`nome_terceiro`,`aa`.`cnpj_terceiro`,`aa`.`valor`,`aa`.`natureza`,`aa`.`data_emissao`,(case when isnull(round((`aa`.`quantidade` - `bb`.`quantidade`),0)) then `aa`.`quantidade` else round((`aa`.`quantidade` - `bb`.`quantidade`),0) end)
